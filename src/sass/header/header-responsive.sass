@media screen and(max-width: 960px)
	#header
		max-width: 100%
		display: flex

		> *
			flex-shrink: 0

		> #menu-top-bar-list-container
			flex-shrink: 1

		#logo-wrapper
			margin-left: 5px
			width: 162px

	.icon-hamburger-menu
		display: block

	//
	// Search form width 100%
	//

	// input type="checkbox" workaround
	input[type=checkbox]#search-box-toggle
		&:checked + #searchform .search-field-wrapper #search-field
			background: white

		&:checked + #searchform #show-search-toggle
			display: none

		&:checked + #searchform #searchsubmit
			border: 1px solid rgba(255,255,255,0.85)
			border-top-right-radius: 3px
			border-bottom-right-radius: 3px
			margin: 15px 0
			line-height: 28px
			padding: 0 10px
			// reset for mobile minimized button
			font-size: 14px
			padding: 0 15px 0 14px

			&:before
				height: 28px

	#searchform
		padding-left: 5px

	input[type=checkbox]#search-box-toggle

		&:checked + #searchform
			position: absolute
			top: 0
			right: 0
			bottom: 0
			left: 0
			width: 100%
			padding: 0 10px
			margin-left: 50%
			transform: translateX(-50%)
			box-sizing: border-box
			background-color: $base-color
			z-index: 2
			text-align: center

		&:checked + #searchform .search-field-wrapper
			width: calc(100% - 98px)
			box-sizing: border-box

		&:checked + #searchform .search-field-wrapper #search-field
			max-width: none
			padding: 0 17px

		&:checked + #searchform #searchsubmit
			width: 98px
			box-sizing: border-box

		&:checked + #searchform #show-search-toggle
			display: none

		&:checked + #searchform .mobile-centering-wrapper
			display: inline-block

	#searchform .search-field-wrapper #search-field
			transition: none


	//
	// Toggle hamburger menu
	//

	input#toggle-menu-checkbox
		&:checked + #header #top-bar-wrapper .icon-hamburger-menu
			#hamburger-line-1
				margin-bottom: 4px
				transform: rotate(43deg)
			#hamburger-line-2
				opacity: 0
			#hamburger-line-3
				margin-top: 4px
				transform: rotate(-43deg)

// TODO: make it better for various widths of menus
@media screen and(max-width: 640px)
	#searchform 
		#searchsubmit
			font-size: 0
			padding: 0px 10px

@media screen and(max-width: 580px)
	#searchform
		padding-left: 0px

	#top-bar-wrapper
		padding-top: 40px

	#header
		height: auto

		#logo-wrapper
			margin-left: 0px
			width: 100%
			padding: 10px 0px 4px
			img
				max-height: 30px
				max-width: 162px

			position: absolute
			z-index: 7
			top: 0
			left: 0

	input[type=checkbox]#search-box-toggle
		&:checked + #searchform
			padding: 40px 10px 0

	#menu-top-bar-list-container
		ul

			li
				a
					padding: 0px 7px
					font-size: 14px

					&:after
						width: calc(100% - 14px)
						bottom: 8px

@media screen and(max-width: 360px)
	.icon-hamburger-menu span
		display: none